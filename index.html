<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smart Wall Switch Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#232526">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <script type="module" src="/src/pages/dashboard.js"></script>
</head>
<body>
  <div class="app-background" aria-hidden="true">
    <div class="blob blob1"></div>
    <div class="blob blob2"></div>
    <div class="blob blob3"></div>
  </div>

  <header id="appChrome" class="app-chrome" role="banner">
    <div class="app-chrome__title">
      <span class="app-chrome__logo" aria-hidden="true">⌂</span>
      <div class="app-chrome__text">
        <span class="app-chrome__label">Hubitat</span>
        <span class="app-chrome__subtitle">Bedroom Dashboard</span>
      </div>
    </div>
    <div class="app-chrome__actions">
      <button class="chrome-btn" id="settingsBtn" type="button" aria-label="Open settings">
        <svg class="chrome-btn__icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path d="M19.14 12.94a7.07 7.07 0 0 0 .05-.94 7.07 7.07 0 0 0-.05-.94l2.11-1.65a.5.5 0 0 0 .12-.62l-2-3.46a.5.5 0 0 0-.6-.22l-2.49 1a6.78 6.78 0 0 0-1.63-.94L14.5 3h-5l-.18 2.17a6.78 6.78 0 0 0-1.63.94l-2.49-1a.5.5 0 0 0-.6.22l-2 3.46a.5.5 0 0 0 .12.62l2.11 1.65a7.07 7.07 0 0 0 0 1.88L2.72 13.6a.5.5 0 0 0-.12.62l2 3.46a.5.5 0 0 0 .6.22l2.49-1a6.78 6.78 0 0 0 1.63.94L9.5 21h5l.18-2.17a6.78 6.78 0 0 0 1.63-.94l2.49 1a.5.5 0 0 0 .6-.22l2-3.46a.5.5 0 0 0-.12-.62ZM12 15.5A3.5 3.5 0 1 1 15.5 12 3.5 3.5 0 0 1 12 15.5Z" fill="currentColor" />
        </svg>
        <span>Settings</span>
      </button>
    </div>
  </header>
  <div id="appChromeHotspot" class="app-chrome__hotspot" aria-hidden="true"></div>

  <div id="lockIndicator" class="lock-indicator" aria-live="polite" aria-label="Front door lock" title="Front door lock">🔓</div>

  <div class="clock" aria-hidden="true">
    <div class="date" id="currentDate"></div>
    <div class="time" id="currentTime"></div>
  </div>

  <main class="dashboard" role="main">
    <section class="primary-stack">
      <div class="switch-card">
        <div class="wall-plate-wrap">
          <div class="paddle-labels">
            <span class="paddle-label">Lights</span>
            <span class="paddle-label">All</span>
          </div>
          <div class="wall-plate">
            <div class="paddle-switch off" id="paddleSwitch">
              <span class="power-icon">⏻</span>
            </div>
            <div class="paddle-switch off" id="paddleSwitch2">
              <span class="power-icon">⏻</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <aside class="quick-panel" aria-label="Quick actions">
      <div id="side-carousel-container" class="side-carousel-container">
        <div id="side-carosel"></div>
      </div>
      <div class="side-btns side-btns-visible" id="sideBtns">
        <button class="side-btn" title="TV" aria-label="TV" data-action="showTvModal">📺</button>
        <button class="side-btn" title="Lights" aria-label="Lights" data-action="showBubbleChartModal">💡</button>
        <button class="side-btn rollershadeSideBtn" title="Rollershade" aria-label="Rollershade" data-action="showRollershadeModal">🪟</button>
        <button class="side-btn" title="Lock" aria-label="Lock" data-action="toggleLock">🔒</button>
        <button class="side-btn" title="Camera" aria-label="Camera" data-action="showCameraModal">📷</button>
        <button class="side-btn" title="Thermostat" aria-label="Thermostat" data-action="showThermostatModal">🌡️</button>
        <button class="side-btn" title="Music" aria-label="Music" data-action="showMusicModal">🎵</button>
        <button class="side-btn" id="themeToggle" title="Toggle Theme" aria-label="Toggle Theme">🌙</button>
      </div>
    </aside>
  </main>

  <div class="modal-bg" id="modalBg">
    <div class="modal bubble" id="modalContent">
      <button class="back-modal" id="backModal" style="display:none;">&#8592; Back</button>
      <button class="close-modal" id="closeModal">&times;</button>
      <div id="modalBody"></div>
    </div>
  </div>
  <div class="modal-bg" id="cameraModalBg">
    <div id="cameraModal">
      <!-- Video element will be dynamically inserted here -->
      <button class="close-modal" id="closeCameraModal">&times;</button>
    </div>
  </div>
  <noscript>
    <p>This dashboard requires JavaScript to run. Please enable JavaScript in your browser.</p>
  </noscript>
</body>
</html>
